{"ast":null,"code":"import _slicedToArray from\"C:/Users/aat12/Downloads/MERN/week 3/Belt_Exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import axios from\"axios\";import{Link,useHistory}from\"react-router-dom\";import myStyles from\"./styles.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var linkStyle={justifyContent:\"end\",display:\"flex\",margin:\"20px\"};function Pets(props){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),petsList=_React$useState2[0],setPetsList=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isLoaded=_React$useState4[0],setLoaded=_React$useState4[1];var history=useHistory();React.useEffect(function(){console.log(\"UseEffect running now\");axios.get(\"http://localhost:8000/api/pets\").then(function(response){console.log(response);setPetsList(response.data);setLoaded(true);});},[]);return/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:\"900px\",margin:\"auto\"},children:!isLoaded?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:myStyles.base,children:\"Pet Shelter\"}),/*#__PURE__*/_jsx(Link,{to:\"/new\",style:linkStyle,children:\"Add a Pet to the Shelter\"}),/*#__PURE__*/_jsxs(\"h4\",{className:myStyles.base,children:[\" \",\"These pets are looking for a good home\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:petsList.map(function(pet,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:pet.name}),/*#__PURE__*/_jsx(\"td\",{children:pet.type}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\".concat(pet._id),children:\"details\"}),\" \\xA0\\xA0| \\xA0\\xA0\",/*#__PURE__*/_jsx(Link,{to:\"/\".concat(pet._id,\"/edit\"),children:\"edit\"})]})]},index);})})]})]})});}export default Pets;","map":{"version":3,"names":["React","axios","Link","useHistory","myStyles","linkStyle","justifyContent","display","margin","Pets","props","useState","petsList","setPetsList","isLoaded","setLoaded","history","useEffect","console","log","get","then","response","data","maxWidth","base","map","pet","index","name","type","_id"],"sources":["C:/Users/aat12/Downloads/MERN/week 3/Belt_Exam/client/src/components/Pets.jsx"],"sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport myStyles from \"./styles.module.css\";\r\n\r\nconst linkStyle = {\r\n  justifyContent: \"end\",\r\n  display: \"flex\",\r\n  margin: \"20px\",\r\n};\r\n\r\nfunction Pets(props) {\r\n  const [petsList, setPetsList] = React.useState([]);\r\n  const [isLoaded, setLoaded] = React.useState(false);\r\n  const history = useHistory();\r\n\r\n  React.useEffect(() => {\r\n    console.log(\"UseEffect running now\");\r\n    axios.get(\"http://localhost:8000/api/pets\").then((response) => {\r\n      console.log(response);\r\n      setPetsList(response.data);\r\n      setLoaded(true);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ maxWidth: \"900px\", margin: \"auto\" }}>\r\n      {!isLoaded ? (\r\n        <div>Loading...</div>\r\n      ) : (\r\n        <div>\r\n          <h1 className={myStyles.base}>Pet Shelter</h1>\r\n          <Link to=\"/new\" style={linkStyle}>\r\n            Add a Pet to the Shelter\r\n          </Link>\r\n          <h4 className={myStyles.base}>\r\n            {\" \"}\r\n            These pets are looking for a good home\r\n          </h4>\r\n          <br></br>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Name</th>\r\n                <th>Type</th>\r\n                <th>Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {petsList.map((pet, index) => (\r\n                <tr key={index}>\r\n                  <td>{pet.name}</td>\r\n                  <td>{pet.type}</td>\r\n                  <td>\r\n                    <Link to={`/${pet._id}`}>details</Link> &nbsp;&nbsp;|\r\n                    &nbsp;&nbsp;\r\n                    <Link to={`/${pet._id}/edit`}>edit</Link>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Pets;\r\n"],"mappings":"2IAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,SAAP,KAAqB,qBAArB,C,wFAEA,GAAMC,UAAS,CAAG,CAChBC,cAAc,CAAE,KADA,CAEhBC,OAAO,CAAE,MAFO,CAGhBC,MAAM,CAAE,MAHQ,CAAlB,CAMA,QAASC,KAAT,CAAcC,KAAd,CAAqB,CACnB,oBAAgCV,KAAK,CAACW,QAAN,CAAe,EAAf,CAAhC,oDAAOC,QAAP,qBAAiBC,WAAjB,qBACA,qBAA8Bb,KAAK,CAACW,QAAN,CAAe,KAAf,CAA9B,qDAAOG,QAAP,qBAAiBC,SAAjB,qBACA,GAAMC,QAAO,CAAGb,UAAU,EAA1B,CAEAH,KAAK,CAACiB,SAAN,CAAgB,UAAM,CACpBC,OAAO,CAACC,GAAR,CAAY,uBAAZ,EACAlB,KAAK,CAACmB,GAAN,CAAU,gCAAV,EAA4CC,IAA5C,CAAiD,SAACC,QAAD,CAAc,CAC7DJ,OAAO,CAACC,GAAR,CAAYG,QAAZ,EACAT,WAAW,CAACS,QAAQ,CAACC,IAAV,CAAX,CACAR,SAAS,CAAC,IAAD,CAAT,CACD,CAJD,EAKD,CAPD,CAOG,EAPH,EASA,mBACE,YAAK,KAAK,CAAE,CAAES,QAAQ,CAAE,OAAZ,CAAqBhB,MAAM,CAAE,MAA7B,CAAZ,UACG,CAACM,QAAD,cACC,mCADD,cAGC,oCACE,WAAI,SAAS,CAAEV,QAAQ,CAACqB,IAAxB,yBADF,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,MAAT,CAAgB,KAAK,CAAEpB,SAAvB,sCAFF,cAKE,YAAI,SAAS,CAAED,QAAQ,CAACqB,IAAxB,WACG,GADH,4CALF,cASE,aATF,cAUE,sCACE,oCACE,mCACE,4BADF,cAEE,4BAFF,cAGE,8BAHF,GADF,EADF,cAQE,uBACGb,QAAQ,CAACc,GAAT,CAAa,SAACC,GAAD,CAAMC,KAAN,qBACZ,mCACE,oBAAKD,GAAG,CAACE,IAAT,EADF,cAEE,oBAAKF,GAAG,CAACG,IAAT,EAFF,cAGE,mCACE,KAAC,IAAD,EAAM,EAAE,YAAMH,GAAG,CAACI,GAAV,CAAR,qBADF,oCAGE,KAAC,IAAD,EAAM,EAAE,YAAMJ,GAAG,CAACI,GAAV,SAAR,kBAHF,GAHF,GAASH,KAAT,CADY,EAAb,CADH,EARF,GAVF,GAJJ,EADF,CAyCD,CAED,cAAenB,KAAf"},"metadata":{},"sourceType":"module"}