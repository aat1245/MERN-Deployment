{"ast":null,"code":"import _slicedToArray from\"C:/Users/aat12/Downloads/MERN/week 3/Belt_Exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import myStyles from\"./styles.module.css\";import{Link,useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var linkStyle={justifyContent:\"end\",display:\"flex\",margin:\"20px\"};var PetForm=function PetForm(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),skill1=_useState8[0],setSkill1=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),skill2=_useState10[0],setSkill2=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),skill3=_useState12[0],setSkill3=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),errors=_useState14[0],setErrors=_useState14[1];var history=useHistory();var onSubmitHandler=function onSubmitHandler(e){//prevent default behavior of the submit\ne.preventDefault();//make a post request to create a new product\naxios.post(\"http://localhost:8000/api/pets/new\",{name:name,type:type,description:description,skill1:skill1,skill2:skill2,skill3:skill3}).then(function(res){console.log(res);history.push(\"/\");}).catch(function(err){var data=err.response.data;console.log(data);var errorMessages=[];if(\"errors\"in data){for(var field in data.errors){var validationError=data.errors[field];errorMessages.push(validationError.message);}}setErrors(errorMessages);});};return/*#__PURE__*/_jsxs(\"div\",{className:myStyles.container,children:[/*#__PURE__*/_jsx(\"h1\",{className:myStyles.base,children:\"Pet Shelter\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",style:linkStyle,children:\"back to home\"}),/*#__PURE__*/_jsx(\"h4\",{className:myStyles.base,children:\" Know a pet needing a home?\"}),errors.map(function(errorMessage,index){return/*#__PURE__*/_jsxs(\"ul\",{className:myStyles.err,children:[\"Error:\",/*#__PURE__*/_jsx(\"li\",{children:errorMessage})]},index);}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitHandler,className:myStyles.form,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Pet Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setName(e.target.value);},value:name})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Pet Type:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setType(e.target.value);},value:type})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Pet Description:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setDescription(e.target.value);},value:description})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"Skills (Optional):\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Skill 1:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setSkill1(e.target.value);},value:skill1,type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Skill 2:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setSkill2(e.target.value);},value:skill2,type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Skill 3:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setSkill3(e.target.value);},value:skill3,type:\"text\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:myStyles.btn,children:\"Add Pet\"})]})]});};export default PetForm;","map":{"version":3,"names":["React","useState","axios","myStyles","Link","useHistory","linkStyle","justifyContent","display","margin","PetForm","name","setName","type","setType","description","setDescription","skill1","setSkill1","skill2","setSkill2","skill3","setSkill3","errors","setErrors","history","onSubmitHandler","e","preventDefault","post","then","res","console","log","push","catch","err","data","response","errorMessages","field","validationError","message","container","base","map","errorMessage","index","form","target","value","btn"],"sources":["C:/Users/aat12/Downloads/MERN/week 3/Belt_Exam/client/src/components/PetForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport myStyles from \"./styles.module.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nconst linkStyle = {\r\n  justifyContent: \"end\",\r\n  display: \"flex\",\r\n  margin: \"20px\",\r\n};\r\n\r\nconst PetForm = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [skill1, setSkill1] = useState(\"\");\r\n  const [skill2, setSkill2] = useState(\"\");\r\n  const [skill3, setSkill3] = useState(\"\");\r\n  const [errors, setErrors] = useState([]);\r\n  const history = useHistory();\r\n\r\n  const onSubmitHandler = (e) => {\r\n    //prevent default behavior of the submit\r\n    e.preventDefault();\r\n    //make a post request to create a new product\r\n    axios\r\n      .post(\"http://localhost:8000/api/pets/new\", {\r\n        name,\r\n        type,\r\n        description,\r\n        skill1,\r\n        skill2,\r\n        skill3,\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        const data = err.response.data;\r\n        console.log(data);\r\n        const errorMessages = [];\r\n        if (\"errors\" in data) {\r\n          for (let field in data.errors) {\r\n            const validationError = data.errors[field];\r\n            errorMessages.push(validationError.message);\r\n          }\r\n        }\r\n        setErrors(errorMessages);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={myStyles.container}>\r\n      <h1 className={myStyles.base}>Pet Shelter</h1>\r\n      <Link to={\"/\"} style={linkStyle}>\r\n        back to home\r\n      </Link>\r\n      <h4 className={myStyles.base}> Know a pet needing a home?</h4>\r\n      {errors.map((errorMessage, index) => (\r\n        <ul key={index} className={myStyles.err}>\r\n          Error:\r\n          <li>{errorMessage}</li>\r\n        </ul>\r\n      ))}\r\n      <form onSubmit={onSubmitHandler} className={myStyles.form}>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <p>\r\n              Pet Name:\r\n              <input\r\n                type=\"text\"\r\n                onChange={(e) => setName(e.target.value)}\r\n                value={name}\r\n              />\r\n            </p>\r\n            <p>\r\n              Pet Type:\r\n              <input\r\n                type=\"text\"\r\n                onChange={(e) => setType(e.target.value)}\r\n                value={type}\r\n              />\r\n            </p>\r\n            <p>\r\n              Pet Description:\r\n              <input\r\n                type=\"text\"\r\n                onChange={(e) => setDescription(e.target.value)}\r\n                value={description}\r\n              />\r\n            </p>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div>\r\n              <label>Skills (Optional):</label>\r\n            </div>\r\n            <div>\r\n              <label>Skill 1:</label>\r\n              <input\r\n                onChange={(e) => setSkill1(e.target.value)}\r\n                value={skill1}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label>Skill 2:</label>\r\n              <input\r\n                onChange={(e) => setSkill2(e.target.value)}\r\n                value={skill2}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label>Skill 3:</label>\r\n              <input\r\n                onChange={(e) => setSkill3(e.target.value)}\r\n                value={skill3}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <button type=\"submit\" id={myStyles.btn}>\r\n          Add Pet\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PetForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}