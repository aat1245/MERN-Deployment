{"ast":null,"code":"import _slicedToArray from\"C:/Users/aat12/Downloads/MERN/week 3/Belt_Exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import myStyles from\"./styles.module.css\";import{useHistory}from\"react-router-dom\";import{useParams,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var linkStyle={justifyContent:\"end\",display:\"flex\",margin:\"20px\"};var UpdatePet=function UpdatePet(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),skill1=_useState8[0],setSkill1=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),skill2=_useState10[0],setSkill2=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),skill3=_useState12[0],setSkill3=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),errors=_useState14[0],setErrors=_useState14[1];var history=useHistory();var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),isLoading=_useState16[0],setIsLoading=_useState16[1];useEffect(function(){axios.get(\"http://localhost:8000/api/pets/\"+id).then(function(res){console.log(res.data);setName(res.data.name);setType(res.data.type);setDescription(res.data.description);setSkill1(res.data.skill1);setSkill2(res.data.skill2);setSkill3(res.data.skill3);setIsLoading(false);}).catch(function(err){setIsLoading(false);console.log(\"We have an error\");});},[]);var onSubmitHandler=function onSubmitHandler(e){//prevent default behavior of the submit\ne.preventDefault();//make a post request to create a new product\naxios.put(\"http://localhost:8000/api/pets/\"+id,{name:name,type:type,description:description,skill1:skill1,skill2:skill2,skill3:skill3}).then(function(res){console.log(res);history.push(\"/\");}).catch(function(err){console.log(err);var data=err.response.data;var errorMessages=[];if(\"errors\"in data){for(var field in data.errors){var validationError=data.errors[field];errorMessages.push(validationError.message);}}setErrors(errorMessages);});};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:myStyles.container,children:/*#__PURE__*/_jsx(\"h1\",{className:myStyles.base,children:\"...Loading \"})});}return/*#__PURE__*/_jsxs(\"div\",{className:myStyles.container,children:[/*#__PURE__*/_jsx(\"h1\",{className:myStyles.base,children:\"Pet Shelter\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",style:linkStyle,children:\"back to home\"}),/*#__PURE__*/_jsxs(\"h4\",{className:myStyles.base,children:[\" Edit \",name]}),errors.map(function(errorMessage,index){return/*#__PURE__*/_jsxs(\"ul\",{className:myStyles.err,children:[\"Error:\",/*#__PURE__*/_jsx(\"li\",{children:errorMessage})]},index);}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitHandler,className:myStyles.form,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Pet Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setName(e.target.value);},value:name})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Pet Type:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setType(e.target.value);},value:type})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Pet Description:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setDescription(e.target.value);},value:description})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"Skills (Optional):\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Skill 1:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setSkill1(e.target.value);},value:skill1,type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Skill 2:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setSkill2(e.target.value);},value:skill2,type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Skill 3:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setSkill3(e.target.value);},value:skill3,type:\"text\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:myStyles.btn,children:\"Edit Pet\"})]})]});};export default UpdatePet;","map":{"version":3,"names":["React","useState","useEffect","axios","myStyles","useHistory","useParams","Link","linkStyle","justifyContent","display","margin","UpdatePet","id","name","setName","type","setType","description","setDescription","skill1","setSkill1","skill2","setSkill2","skill3","setSkill3","errors","setErrors","history","isLoading","setIsLoading","get","then","res","console","log","data","catch","err","onSubmitHandler","e","preventDefault","put","push","response","errorMessages","field","validationError","message","container","base","map","errorMessage","index","form","target","value","btn"],"sources":["C:/Users/aat12/Downloads/MERN/week 3/Belt_Exam/client/src/components/updatePet.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport myStyles from \"./styles.module.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\n\r\nconst linkStyle = {\r\n  justifyContent: \"end\",\r\n  display: \"flex\",\r\n  margin: \"20px\",\r\n};\r\n\r\nconst UpdatePet = () => {\r\n  const { id } = useParams();\r\n  const [name, setName] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [skill1, setSkill1] = useState(\"\");\r\n  const [skill2, setSkill2] = useState(\"\");\r\n  const [skill3, setSkill3] = useState(\"\");\r\n  const [errors, setErrors] = useState([]);\r\n  const history = useHistory();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:8000/api/pets/\" + id)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        setName(res.data.name);\r\n        setType(res.data.type);\r\n        setDescription(res.data.description);\r\n        setSkill1(res.data.skill1);\r\n        setSkill2(res.data.skill2);\r\n        setSkill3(res.data.skill3);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setIsLoading(false);\r\n        console.log(\"We have an error\");\r\n      });\r\n  }, []);\r\n\r\n  const onSubmitHandler = (e) => {\r\n    //prevent default behavior of the submit\r\n    e.preventDefault();\r\n    //make a post request to create a new product\r\n    axios\r\n      .put(\"http://localhost:8000/api/pets/\" + id, {\r\n        name,\r\n        type,\r\n        description,\r\n        skill1,\r\n        skill2,\r\n        skill3,\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        const data = err.response.data;\r\n        const errorMessages = [];\r\n        if (\"errors\" in data) {\r\n          for (let field in data.errors) {\r\n            const validationError = data.errors[field];\r\n            errorMessages.push(validationError.message);\r\n          }\r\n        }\r\n        setErrors(errorMessages);\r\n      });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className={myStyles.container}>\r\n        <h1 className={myStyles.base}>...Loading </h1>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={myStyles.container}>\r\n      <h1 className={myStyles.base}>Pet Shelter</h1>\r\n      <Link to={\"/\"} style={linkStyle}>\r\n        back to home\r\n      </Link>\r\n      <h4 className={myStyles.base}> Edit {name}</h4>\r\n      {errors.map((errorMessage, index) => (\r\n        <ul key={index} className={myStyles.err}>\r\n          Error:\r\n          <li>{errorMessage}</li>\r\n        </ul>\r\n      ))}\r\n      <form onSubmit={onSubmitHandler} className={myStyles.form}>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <p>\r\n              Pet Name:\r\n              <input\r\n                type=\"text\"\r\n                onChange={(e) => setName(e.target.value)}\r\n                value={name}\r\n              />\r\n            </p>\r\n            <p>\r\n              Pet Type:\r\n              <input\r\n                type=\"text\"\r\n                onChange={(e) => setType(e.target.value)}\r\n                value={type}\r\n              />\r\n            </p>\r\n            <p>\r\n              Pet Description:\r\n              <input\r\n                type=\"text\"\r\n                onChange={(e) => setDescription(e.target.value)}\r\n                value={description}\r\n              />\r\n            </p>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div>\r\n              <label>Skills (Optional):</label>\r\n            </div>\r\n            <div>\r\n              <label>Skill 1:</label>\r\n              <input\r\n                onChange={(e) => setSkill1(e.target.value)}\r\n                value={skill1}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label>Skill 2:</label>\r\n              <input\r\n                onChange={(e) => setSkill2(e.target.value)}\r\n                value={skill2}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label>Skill 3:</label>\r\n              <input\r\n                onChange={(e) => setSkill3(e.target.value)}\r\n                value={skill3}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <button type=\"submit\" id={myStyles.btn}>\r\n          Edit Pet\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdatePet;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}